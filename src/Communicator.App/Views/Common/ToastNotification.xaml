<UserControl x:Class="Communicator.App.Views.ToastNotification" x:ClassModifier="public"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Name="ToastRoot"
             Width="380"
             Loaded="OnLoaded">
    <UserControl.Resources>
        <!-- Success Style -->
        <Style x:Key="SuccessToast" TargetType="Border">
            <Setter Property="Background" Value="#10B981"/>
            <Setter Property="BorderBrush" Value="#059669"/>
        </Style>
        
        <!-- Error Style -->
        <Style x:Key="ErrorToast" TargetType="Border">
            <Setter Property="Background" Value="#EF4444"/>
            <Setter Property="BorderBrush" Value="#DC2626"/>
        </Style>
        
        <!-- Warning Style -->
        <Style x:Key="WarningToast" TargetType="Border">
            <Setter Property="Background" Value="#F59E0B"/>
            <Setter Property="BorderBrush" Value="#D97706"/>
        </Style>
        
        <!-- Info Style -->
        <Style x:Key="InfoToast" TargetType="Border">
            <Setter Property="Background" Value="#3B82F6"/>
            <Setter Property="BorderBrush" Value="#2563EB"/>
        </Style>
    </UserControl.Resources>

    <Border x:Name="ToastBorder"
            BorderThickness="1"
            CornerRadius="8"
            Padding="16,12"
            Margin="0,0,0,8">
        <Border.Effect>
            <DropShadowEffect Color="Black" 
                              Opacity="0.2" 
                              BlurRadius="16" 
                              ShadowDepth="4" 
                              Direction="270"/>
        </Border.Effect>
        
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- Icon -->
            <TextBlock x:Name="IconText"
                       Grid.Column="0"
                       FontFamily="Segoe MDL2 Assets"
                       FontSize="20"
                       Foreground="White"
                       VerticalAlignment="Center"
                       Margin="0,0,12,0"/>

            <!-- Message -->
            <TextBlock x:Name="MessageText"
                       Grid.Column="1"
                       Text="{Binding Message}"
                       Foreground="White"
                       FontSize="14"
                       FontWeight="Medium"
                       TextWrapping="Wrap"
                       VerticalAlignment="Center"/>

            <!-- Close Button -->
            <Button x:Name="CloseButton"
                    Grid.Column="2"
                    Content="&#xE711;"
                    FontFamily="Segoe MDL2 Assets"
                    FontSize="12"
                    Width="24"
                    Height="24"
                    Margin="12,0,0,0"
                    Background="Transparent"
                    BorderThickness="0"
                    Foreground="White"
                    Cursor="Hand"
                    Click="CloseButton_Click"
                    VerticalAlignment="Center">
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="Background" Value="Transparent"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}"
                                            CornerRadius="4">
                                        <ContentPresenter HorizontalAlignment="Center"
                                                          VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#33FFFFFF"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#55FFFFFF"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>
        </Grid>
    </Border>
</UserControl>

